language: c

sudo: false

cache:
  directories:
    - $HOME/.openfortivpn-deps

before_install:
  - tests/ci/install_astyle.sh $HOME/.openfortivpn-deps
  - tests/ci/install_openssl.sh $HOME/.openfortivpn-deps

install:
  - ./autogen.sh
  - PKG_CONFIG_PATH=$HOME/.openfortivpn-deps/lib/pkgconfig ./configure --prefix=/usr --sysconfdir=/etc
  - make

script:
  - ./tests/lint/run.sh
